<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>科学上网 | 个人杂记</title>
    <meta name="description" content="A Notes Site">
    <link rel="preload stylesheet" href="/assets/style.32d579ae.css" as="style">
    <script type="module" src="/assets/app.4428888a.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.3eb667f5.js">
  <link rel="modulepreload" href="/assets/chunks/theme.9a757b4b.js">
  <link rel="modulepreload" href="/assets/life_ss_vpn.md.14e29c13.lean.js">
  <link rel="icon" href="/f.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9c2e3be6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-b1790b3b></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-b1790b3b> Skip to content </a><!--]--><!----><header class="VPNav" data-v-be97e966 data-v-9c2e3be6><div class="VPNavBar has-sidebar" data-v-f0b23770 data-v-be97e966><div class="container" data-v-f0b23770><div class="title" data-v-f0b23770><div class="VPNavBarTitle has-sidebar" data-v-448a6ef2 data-v-f0b23770><a class="title" href="/" data-v-448a6ef2><!--[--><!--]--><!----><!--[-->个人杂记<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f0b23770><div class="curtain" data-v-f0b23770></div><div class="content-body" data-v-f0b23770><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f0b23770><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1b35cc27 data-v-f0b23770><span id="main-nav-aria-label" class="visually-hidden" data-v-1b35cc27>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-770d3a6b data-v-8d6b53c9 data-v-1b35cc27><!--[-->主页<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/readme.html" tabindex="0" data-v-770d3a6b data-v-8d6b53c9 data-v-1b35cc27><!--[-->指南<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b6f41b8c data-v-f0b23770><label title="toggle dark mode" data-v-5c07d6d1 data-v-b6f41b8c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-8b492f17 data-v-5c07d6d1><span class="check" data-v-8b492f17><span class="icon" data-v-8b492f17><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="sun" data-v-5c07d6d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="moon" data-v-5c07d6d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6ede2c1d data-v-3947cd21 data-v-f0b23770><!--[--><a class="VPSocialLink" href="https://github.com/Icestab" aria-label="github" target="_blank" rel="noopener" data-v-8d2e5cdd data-v-6ede2c1d><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c3d1f820 data-v-c8e55467 data-v-f0b23770><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-c3d1f820><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="icon" data-v-c3d1f820><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-c3d1f820><div class="VPMenu" data-v-2ab880e5 data-v-c3d1f820><!----><!--[--><!--[--><!----><div class="group" data-v-c8e55467><div class="item appearance" data-v-c8e55467><p class="label" data-v-c8e55467>主题</p><div class="appearance-action" data-v-c8e55467><label title="toggle dark mode" data-v-5c07d6d1 data-v-c8e55467><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-8b492f17 data-v-5c07d6d1><span class="check" data-v-8b492f17><span class="icon" data-v-8b492f17><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="sun" data-v-5c07d6d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="moon" data-v-5c07d6d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-c8e55467><div class="item social-links" data-v-c8e55467><div class="VPSocialLinks social-links-list" data-v-6ede2c1d data-v-c8e55467><!--[--><a class="VPSocialLink" href="https://github.com/Icestab" aria-label="github" target="_blank" rel="noopener" data-v-8d2e5cdd data-v-6ede2c1d><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f66f9968 data-v-f0b23770><span class="container" data-v-f66f9968><span class="top" data-v-f66f9968></span><span class="middle" data-v-f66f9968></span><span class="bottom" data-v-f66f9968></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-91af34b8 data-v-9c2e3be6><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-91af34b8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="menu-icon" data-v-91af34b8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-91af34b8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-0e01898c data-v-91af34b8><button data-v-0e01898c>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-4d49b088 data-v-9c2e3be6><div class="curtain" data-v-4d49b088></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4d49b088><span class="visually-hidden" id="sidebar-aria-label" data-v-4d49b088> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4d49b088><section class="VPSidebarItem level-0 collapsible has-active" data-v-d4f34425 data-v-4d49b088><div class="item" role="button" tabindex="0" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><h2 class="text" data-v-d4f34425>生活</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d4f34425><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="caret-icon" data-v-d4f34425><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d4f34425><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/life/RM2100.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>红米2100路由器刷机</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/life/ss/vpn.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>科学上网</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/life/oh-my-zsh.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>oh-my-zsh安装与基本配置</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/life/netflix.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>Netflix UWP Windows客户端除网络隔离的方法</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4d49b088><section class="VPSidebarItem level-0 collapsible" data-v-d4f34425 data-v-4d49b088><div class="item" role="button" tabindex="0" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><h2 class="text" data-v-d4f34425>前端</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d4f34425><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="caret-icon" data-v-d4f34425><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d4f34425><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/html_css_js/html_css.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>前端小技巧</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/html_css_js/vue1.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>Vue日常笔记</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/pnpm.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>vscode无法运行npm脚本</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4d49b088><section class="VPSidebarItem level-0 collapsible" data-v-d4f34425 data-v-4d49b088><div class="item" role="button" tabindex="0" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><h2 class="text" data-v-d4f34425>文学</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d4f34425><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="caret-icon" data-v-d4f34425><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d4f34425><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/literary/extract.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>时间语录</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4d49b088><section class="VPSidebarItem level-0 collapsible" data-v-d4f34425 data-v-4d49b088><div class="item" role="button" tabindex="0" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><h2 class="text" data-v-d4f34425>环境问题</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d4f34425><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="caret-icon" data-v-d4f34425><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d4f34425><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/questions/mysql_pass.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>Centos7重置Mysql8 root 密码</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/questions/linux.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>Linux命令</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/questions/ssh.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>SSH防止暴力破解</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/questions/centos7.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>Centos7 升级内核版本</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d4f34425 data-v-d4f34425><div class="item" data-v-d4f34425><div class="indicator" data-v-d4f34425></div><a class="VPLink link link" href="/study/questions/ubuntu-20.04.4-server.html" data-v-770d3a6b data-v-d4f34425><!--[--><p class="text" data-v-d4f34425>ubuntu-20.04.4-server安装与基本配置</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-153ab155 data-v-9c2e3be6><div class="VPDoc has-sidebar has-aside" data-v-d4070f04 data-v-153ab155><div class="container" data-v-d4070f04><div class="aside" data-v-d4070f04><div class="aside-curtain" data-v-d4070f04></div><div class="aside-container" data-v-d4070f04><div class="aside-content" data-v-d4070f04><div class="VPDocAside" data-v-4cc8c674 data-v-d4070f04><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-a37c0f32 data-v-4cc8c674><div class="content" data-v-a37c0f32><div class="outline-marker" data-v-a37c0f32></div><div class="outline-title" data-v-a37c0f32>此页</div><nav aria-labelledby="doc-outline-aria-label" data-v-a37c0f32><span class="visually-hidden" id="doc-outline-aria-label" data-v-a37c0f32> Table of Contents for current page </span><ul class="root" data-v-cff53b02 data-v-a37c0f32><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-4cc8c674></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d4070f04><div class="content-container" data-v-d4070f04><!--[--><!--]--><!----><main class="main" data-v-d4070f04><div style="position:relative;" class="vp-doc _life_ss_vpn" data-v-d4070f04><div><h1 id="科学上网" tabindex="-1">科学上网 <a class="header-anchor" href="#科学上网" aria-label="Permalink to &quot;科学上网&quot;">​</a></h1><p>大约3年前因为需要使用google接触了科学上网，当时非常流行ss代理，在一个网站购买了包月服务开启了外网之旅；后来有机会拥有香港服务器于是自己搭建了ss-server。</p><p>本文大致分为三个部分，ss-server搭建、ss-server升级、vpn搭建。</p><h2 id="_1、shadowsocks" tabindex="-1">1、Shadowsocks <a class="header-anchor" href="#_1、shadowsocks" aria-label="Permalink to &quot;1、Shadowsocks&quot;">​</a></h2><h3 id="_1-1-ss介绍-维基百科" tabindex="-1">1.1 SS介绍（维基百科） <a class="header-anchor" href="#_1-1-ss介绍-维基百科" aria-label="Permalink to &quot;1.1 SS介绍（维基百科）&quot;">​</a></h3><p><strong>Shadowsocks</strong>（简称<strong>SS</strong>）是一种基于<a href="https://www.tw.wiiaa.top/baike-SOCKS#SOCK5" target="_blank" rel="noreferrer">Socks5</a>代理方式的加密传输协议，也可以指实现这个协议的各种开发包。目前包使用<a href="https://www.tw.wiiaa.top/baike-Python" target="_blank" rel="noreferrer">Python</a>、<a href="https://www.tw.wiiaa.top/baike-C%E8%AA%9E%E8%A8%80" target="_blank" rel="noreferrer">C</a>、<a href="https://www.tw.wiiaa.top/baike-C%2B%2B" target="_blank" rel="noreferrer">C++</a>、<a href="https://www.tw.wiiaa.top/baike-C%E2%99%AF" target="_blank" rel="noreferrer">C#</a>、<a href="https://www.tw.wiiaa.top/baike-Go%E8%AF%AD%E8%A8%80" target="_blank" rel="noreferrer">Go语言</a>、<a href="https://www.tw.wiiaa.top/baike-Rust" target="_blank" rel="noreferrer">Rust</a>等编程语言开发，大部分主要实现（<a href="https://www.tw.wiiaa.top/baike-IOS" target="_blank" rel="noreferrer">iOS</a>平台的除外）采用<a href="https://www.tw.wiiaa.top/baike-Apache%E8%AE%B8%E5%8F%AF%E8%AF%81" target="_blank" rel="noreferrer">Apache许可证</a>、<a href="https://www.tw.wiiaa.top/baike-GPL" target="_blank" rel="noreferrer">GPL</a>、<a href="https://www.tw.wiiaa.top/baike-MIT%E8%A8%B1%E5%8F%AF%E8%AD%89" target="_blank" rel="noreferrer">MIT许可证</a>等多种<a href="https://www.tw.wiiaa.top/baike-%E8%87%AA%E7%94%B1%E8%BB%9F%E9%AB%94" target="_blank" rel="noreferrer">自由软件</a>许可协议<a href="https://www.tw.wiiaa.top/baike-%E9%96%8B%E6%94%BE%E5%8E%9F%E5%A7%8B%E7%A2%BC" target="_blank" rel="noreferrer">开放源代码</a>。Shadowsocks分为服务器端和客户端，在使用之前，需要先将服务器端程序部署到服务器上面，然后通过客户端连接并创建本地代理。</p><p>在中国大陆，本工具广泛用于突破<a href="https://www.tw.wiiaa.top/baike-%E9%98%B2%E7%81%AB%E9%95%BF%E5%9F%8E" target="_blank" rel="noreferrer">防火长城</a>（GFW），以浏览被封锁、遮蔽或干扰的内容。2015年8月22日，Shadowsocks原作者Clowwindy称受到了<a href="https://www.tw.wiiaa.top/baike-%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E7%BD%91%E7%BB%9C%E5%AE%A1%E6%9F%A5" target="_blank" rel="noreferrer">中华人民共和国政府的压力</a>，宣布停止维护此计划（项目）并移除其个人页面所存储的源代码[<a href="https://www.tw.wiiaa.top/wiki/Shadowsocks#cite_note-4" target="_blank" rel="noreferrer">4]</a>[<a href="https://www.tw.wiiaa.top/wiki/Shadowsocks#cite_note-effchinacoder-5" target="_blank" rel="noreferrer">5]</a>。</p><p>为了避免<a href="https://www.tw.wiiaa.top/baike-%E5%85%B3%E9%94%AE%E8%AF%8D%E8%BF%87%E6%BB%A4" target="_blank" rel="noreferrer">关键词过滤</a>，网民会根据<a href="https://www.tw.wiiaa.top/baike-%E8%AB%A7%E9%9F%B3_(%E8%AA%9E%E8%A8%80%E5%AD%B8)" target="_blank" rel="noreferrer">谐音</a>将ShadowsocksR称为“酸酸乳”[<a href="https://www.tw.wiiaa.top/wiki/Shadowsocks#cite_note-6" target="_blank" rel="noreferrer">注 1]</a>（SSR），将Shadowsocks称为“酸酸”（SS）。另外Shadowsocks的标志为纸飞机，而专门提供Shadowsocks或类似软件（如V2Ray）服务器的网站也被称为“机场”。</p><h3 id="_1-2-ss搭建" tabindex="-1">1.2 SS搭建 <a class="header-anchor" href="#_1-2-ss搭建" aria-label="Permalink to &quot;1.2 SS搭建&quot;">​</a></h3><h4 id="_1-2-1-快速搭建" tabindex="-1">1.2.1 快速搭建 <a class="header-anchor" href="#_1-2-1-快速搭建" aria-label="Permalink to &quot;1.2.1 快速搭建&quot;">​</a></h4><p>目前这个项目在github上仍然能够搜到<a href="https://github.com/shadowsocks" target="_blank" rel="noreferrer">点击前往</a>，不够原作者已经没有维护了，基于Python的版本也停留在了2017年，但是由于Python安装简单所以也是一个不错的选择，大致流程如下：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">python3-pip</span></span>
<span class="line"><span style="color:#FFCB6B;">pip3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--upgrade</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pip3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setuptools</span></span>
<span class="line"><span style="color:#FFCB6B;">pip3</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shadowsocks</span></span>
<span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">python-m2crypto</span></span>
<span class="line"></span></code></pre></div><p>安装完毕后新建一个配置文件启动即可：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/shadowsocks.json</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">server</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.0.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">server_port</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">1234</span><span style="color:#A6ACCD;">, </span><span style="color:#676E95;font-style:italic;">#监听端口</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#676E95;font-style:italic;">#密码</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">timeout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">300</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">method</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aes-256-cfb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#676E95;font-style:italic;">#加密协议</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fast_open</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#是否启用fast_open建议开启</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shadowsocks</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>如果有防火墙放行对应的端口即可。</p></div><h4 id="_1-2-2-shadowsocks-libev" tabindex="-1">1.2.2 shadowsocks-libev <a class="header-anchor" href="#_1-2-2-shadowsocks-libev" aria-label="Permalink to &quot;1.2.2  shadowsocks-libev&quot;">​</a></h4><p>我个人使用的是这个版本，最新<strong>v3.3.5</strong>上次更新2020年9月，算是比较新的，而且网上也能下载到一键搭建脚本，使用比较方便。</p><p>第一次搭建使用的脚本为<a href="/ss/shadowsocks-libev-old.sh">shadowsocks-libev.sh</a>,安装脚本提示一步一步进行就可以了，可以说是非常简单，在使用大约两年后想起升级，于是再次运行这个脚本，虽然ss-server版本升级了，但是客服端却无法连接了；在细心阅读脚本文件后任然找不到原因。</p><p>于是乎去网上找了另外一个安装脚本<a href="/ss/centos-shadowsocks-libev.sh">centos-shadowsocks-libev.sh</a></p><p>在执行前需要卸载原版本，方法很简单<code>./shadowsocks-libev.sh uninstall</code>提示是否卸载，输入y即可。</p><p>给新脚本添加执行权限，然后直接运行，详细操作如下：</p><p>1、提示设置SS密码，输入自定义密码后按回车，也可以直接按回车使用默认密码</p><p><img src="data:image/png;base64,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" alt="1"></p><p>2、接下来选择SS要使用的服务器端口，输入自己喜欢的端口， 也可以直接按回车使用默认端口</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlQAAAAxCAMAAAAr4MfbAAAAkFBMVEUAAAAzgMXl5eXlxYAzAADl5cWAMwAAM4DFxYAAXKMAADOAxeWjXAAAAFyj5eXFgDPlo1yj5aNcAABco+XF5eXF5aMAXICAxcWjxYCAo+Xl5aOAgKMzXKOjo6Oj5cWAo4BcM4BcgIAzADPF5cXFxaOjxeUzM4CjxcXFxcWAM1yjo1yjgDPlo6Nco8Wjo8WAxaOraimWAAAEiElEQVR42u2aiVbbOhCGI980xo65cmPubQvd973v/3adNRNhEAfKoSH834HIGo9kWfktycosAAAAAAAAAAAAAAAAAABwTVLT/LNc/H1S82i1qNAenW9lF+2ul6vcdL8e1OVyuqYZFtfn+N8mLx4cXUOMfHBDUaU/67Sy+PHjDX3elai0cN2l9ExNoZGJu65fNw09CpYs2hP2sdyf98+9hDurX+c9EVX7336LqmxvItv/q/7JijOWHD/l/hwodzv9cy+RzupGO5AnLMsjyNnET5sbFc+1R8/onA50pxt36Z+cxTxqtShcQHLtCSXu+dyKC/54h0tUZm2xy3rV7PmCUimg3+Pxy5V6qlErHVgx/Zqyem4+/gzeQLs/rof7pSIqH1ZLUZkTRLUzUk1ZFhhEGmXc6F8t3ahYrj0ZyMU7zV3ki3OsFoMKqJckW8/5SFW6GN4WvaxVrZ4kJy0wDeL3WjzdKP9vlu3R23Xe1nJeKuzrDdw2cqDDoSIqUaFPf4MltpAaNPdgRVWsqajTpRs0376jx60wRo4SduHDMIb25vOLFBg92XrORVW6ONEWq5MTy1mBlGl46UbzjOtJ7v2HHLVcIKqyQMp0yENRTVSdSCmbjDRhCw+9lnuootLOclGdqMYSfeq08mi1NQqeo/nERRVGmQMCq0WxApaw52WiKlwcbYufs6o1F8nHTznl0pMSLf35dCOpTeiUlKLyAnoroijS1UWi8uJStfpEomrKloOoltKx8/GAjU64hKjCGDqwWiojVUVUpUsQ+hGXMmEZnH35Og3mGdez5k7jtpbqSOV3Ow1UV3VN9dRFNU8gqvg+ZVHRDXw80ffyjVcublQ3z4WoxjCWOrBaLlxThajG86IqXRxrS4jKFlOaWNWnm+l0Y57n11RLno30XHm9ck0Vd9t9f7ypv/1NMv11WWa6SNSI6Y+Z/C1u5GN5q0oN28yoeM5FRV0X5QodeC0Xvf25pxUvvuTCJZC2+GW96nj7M30nb/X87Y/XQHaOiZumJhDD7tvfKC0bZ/3UiWfsbGpnic2T1KjxIS/U74z26Gb7YHsCdtT3kXsuKrCPQFQAAAD2Cnuvnseg3Hl0TL++yWIY7CGyMaOb3/UYlC5+rqszd/GwEf/RuGuY0bafNV4EC6/DgfSjeumKDaNbF5VYY/PJD3/8zLxNyDk1gQOApKIfuiu9E2KmASYyfISTB7tcHdBSFVVE3aRsv6KxECfs6hwEyWIU5GjK8UOYnS1E5dq4OqDFz5aiiggRvU7/a7MV1SiX03JYW91vUo5Rw+I+XFR6oiqqeUBLXVQRE2LXoj82mB47iOog2B2pLO7DRZUoUxPV1QEtQVhNOlOW9RxZNSLlzEYqcADsrqlIHGUMyvVGqmuISq/QNYxVizXV4VC8/Wnch4tKA0wonpITzcdoUg9ouWz6s5gQcQnrG7m6lMf0dxD4PlXEfah+IgJGEgsUiWiVqwNaQhwRNmIxIaxUxae/lc6mENVBwAK6Kbe7W4kddXDrogIAogIAAAAAAAAAAAAAAAAAAABgL/gNR5lSh1Go8nwAAAAASUVORK5CYII=" alt="2"></p><p>3、 然后选择加密方式（仅保留相对安全的加密方式），如果选择chacha20的话，就输入对应序号3，按回车继续</p><p><img src="data:image/png;base64,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" alt="3"></p><p>4、 安装完成后，会有如下图安装成功的提示，记住各项信息，在客户端连接时需要用到</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlIAAABUCAMAAAB+xyl1AAACClBMVEUAAAABAAADAAAEAAAFAAAHAAAIAAAKAAALAAAMAAANAAAOAAAQAAARAAASAAATAAAUAAAVAAAWAAAXAAAYAAAZAAAaAAAbAAAcAAAdAAAeAAAfAAAgAAAhAAAiAAAjAAAkAAAmAAAnAAApAAAqAAArAAAsAAAtAAAuAAAvAAAzAAA0AAA1AAA9AABcAABcADMzADMjIyYhIyUhIyQnJiQoJiUoJSQqKScrKScrKigsKSkuLCouLCswLi0wMC4wMDAwMDEvMDIvMTIuMDIyMjEzLyw4NTM5NTMuMzcpKi0pKSwoKCsnJyocHyAbHh4bHR4bHR0cHB4cHBwaHBwZHBwVFxgVFRcTFBUKCgwLCAYMCAYNCAYLBwUHBgcHBQMEBAIABQAABgAABwAACAAACQAACgAACwAADQAADgAADwAAEQAAEwAAFAAAFQAAFwAAGAAAGQAAKAAAOQAARwAAVgAAZAAFDQkEDAkECgYECQUDCQYDCQcDCAcCCAYAAgAAADMAAFwzAFwzM4AAM4AAXKMzXKMzgKMzgMVcgMVco8Vco+WAo+WAxeWAxcWjxcWj5cWj5eXF5eXF5cXFxcXl5cXl5eXl5aPlxaPlo6PlxYDFxYCjxYCjxaOj5aPF5aOjo6OAgKOAo4Cjo1zFo1zlo1zFgFzFgDOjgDOjXFyAM1yAMwCjXABcgICjo+XpLcRDAAAKZElEQVR42uycW28bRRTHhyfygsRDQ+kbEiBBiIJouJc+AFIQt0iIqoiLIAlunATqsrcmFEICa4hkjFoDjiBSU6CWkWL4jpxzdk5mPI6dXWfd2vj84t3R3M7uzP57ZmZ3VCUIgiAIgiAIgiAIgiAIgjDe7NTrv0+pDraqLZWBUqgcvFClgOq5+FGkk0MPiqQylJpjG0YdwkEajitZ7pk71EDTfj1Qadhpdm8y5PVBrpLCyscWyZWODskmhd49SLnbN2fUyLEDd779l0qDSCpNh4y9pPie4xq64XjvR3BZFLsF0a2f/kDvXMGTKteB3Zl4bwpbyx3Slocer+UYc92gGaWiEjz3AAMVJGNWKYqCEAKKhSUFRCUqqROBMIo80ksYaiuupHwsQaa5go92IDtwPPNWtV5vKt3Mb69DSrnRnsjPnBrmtIgbTV1wtKTIWEt3SPxLbfffehOt2BXoemxMx+gBjKqkQCE8Vag0oSUttdNIYiipKpwQSOR/R0ZSbp624xqL96Gj/qSyhlIEpwACT/n0oCkIPRWESeCrwKNySUlOpMNHSYU+W3ElhWUxz1TAup6ig+BbqjTxXrmZlRYeTqKGkpwWGccCiUdLCo2pf6aSDon3n6w2ITeuYYxL8vXIGMeowqhKCprFnVymzsIUHVBTTbFOSZk8W1KusZ9dF5VIJQm0DjCAmAkC5fvgWrzALhlgQLEw9I2VLpIyFXyfPFSkNHBLutF449zMcgOfoJ3oSMptkZGU6RAdGO2a3oWeq7TglMS4JF+PDo5BMLoDH964EYod0MB3oL1+vYukKM+VlGMlrh0x8JX0wEc6oAEs1DETlELf99tKUkC1w8hYAQ1B4EiKK0QI6cmMe8kt4RloJM2kx1duOImOpJwW7TS5e7pJas/q3e+0pNp7kK9HxjgGRUZXUnjPxkvppmDMSIpjnZKivO5eam+q55TVUk/UEaAI/FIQeLqk66VUELCV3l6KswMPbBlY8wirp9KqtFgFPSWVVDeO5UReKrme6V1dIcM0f9hIVnzJaM99RjFbUhjTM4bt6wcYo2Qnz5lLsT7/ptxkJsKUfJw92ZIKwva5FASRCiJdsnMupSJP59mu7+i5lOfBAbYYfUs0oym3DtVT/u3mDCf2khRXp5PpAqOfLnMpllQNY7okX4+McWy051J6+cKLNOPZb5mBr1LXy48btKqjGCZDrD0PTkCr3RhUgCx8YnS2VnzqcOALcKnnrPhQLH7IJTtXfB6ElGcRYDRCPHvFR6qDM6NviZZXDXZI2AaIuImEbpjTIt0hFbtDTNC54mNJ8YqPSurrkTGOjfaKrxvomnOm0terq04WCsvF4mqxWLhU+BSOwnLh0vLC4tLS4sLSIrK2ura6ugYH/Iory8WV4gqxubH55deb177a2Li28cyzT7/w3Lnz51869+Lz7164MD8//zbx+htvPvXOe2qgxHujOqKdhB8OchNAziysXmZWLAoWV764gj8KPrNYX7+6fhV+8Lc+Z3HWMPtKwqtvXbyoBsV4Smqr2vv7093iGxBUKknh0Skpw2vAHPzhb5Y5O4uSYl7+6GM1EMZTUkPKwueX00jKopuk5iyMolBShg8/eP8TJfzfedzifotHLU5ZPGTxmIVd5gmLey2UMA4MTlLTIqmcqDTw1Ht1F9eO2doDODMxrFCuA70tZyaVpCZP0Q//ukkK8+BHiJfKl+0bLRXv93z5gS83VXxbZQBfp+ivhPkuHFNJqi8vRUyLpHIAHnylqey3k2ZXi/0ZMMtWkENJ5f56a1CSmhYvlR9bVXhN63xDad/ZEdeaGGTZCpKPl8IvF3dIUoArqQkl9Em57nzp1QqzB0f0QFm2gpCkTjyXuruSEi/VN/T4O3e1uL6smWUrCGRm2TGbnrwlNTmpJTXNkpqA34RI6kTQ43e9lCspyMyyFeSOS+oRkBIcFGSRlHipQYCPn+dStHPFlVR8m7xUlq0g+UhKBr4RBR8/r/ho54orKZoUNTJsBdHvpURSwggwWElNi6TGjwctHrY4baEEIT0iKSFnRFJCzoikhJwRSQ0/g9jc4n6JOdH/xIG4kjpzRiQ1vAxicwt/Lx6ApB5AQYmXGm4GsLmFd7WQTc77vg7s9tRuCu657zRoSiQ11Axgc4v2Utom5fXlpeL/2ju73aZhKABn/KUMBmTQVTQdv6UbSBSeAHYBEncgJCRueBc0FRUK4mbSEALEhMIAlYfkHPukPpQQO5nXpu351sbr6uObfXIc58T+d/a81rgoSlUe/8ktNJaiNvG7cie+DKVQJ3jjQZSqLP6TW+hMyRorp5RBrvhmCv/JLX+vWXUYSskVX6Xxn9xCSlGbRqn8qQoi/8QX/4c64xxjmXGBweuEjFOMY5ojgVAQ/8ktpBS1yQIKXvFVQamjCtFqfokVVqUifOFhmVHHp/vgjURUB4hylSICYV6JFValsnsp8zSoey8lSs07saKsUiVOfKLUvBMrRCnBG7FClFpEDvwsg8arUjSOwpcodXg4JLeUemq4ikpJLzURHJJbSq1tIEotLo7JLb1Eb79Di1pTAbOYOqFKh6dx8OmrKLWw2JNbTC/F9uShAlNc4E93eB6LbsyDUlWYPRelSmBNbjFjKbYnDxX9feiiegnLY/G4XUWGUmeRlZMhEjEuMTqaDTzUGTGjwVhlRIyaQRYGKoQ1uQX/YLbfoT15dAFx2+/3+/s8TjXmRSkDV+rMchjmK7WxoXQSpaaFNbmF7DB9Dyteftn79W0wZHksHnupDKCLqoU2pQDQCl6i1HSwJrcwpQajPXl0AXG73cFul+exHOpY6vRKGNqUwi5KeqlpYk1uQaXY7kS0J09aJLhX1lgei6crvgyllkK7Uh1RSnDnuCgl+CUUpQS/iFKCZ0QpwTOi1KKC0wgFoEe3HO46i1LVxzW5xXFOwPqsHtz+wWdrWIAoNWc4Jre44qBUEvR2SivVYawzzjNuMNYYm4yIEQh+cUxuwf/7W7yrl24qzhdw+bitNxXv0eosfaxBbaZxRO/D5+6bPVrxJQ3QVSggd6bURam2WlO/jYhS08AtuYXmsvuJfr74N1XRnwZD+A5+M70UNkdtUpxp7PXPT68SWvGFAqgKBahCqwUViislvdS0cU1uoZvBUBhr6NZxl8KZUqZNihsptb3zQ2XDYGX9TqvwAFFqhnFNbmFVAKqCN5r7RkWuFA/gSt19N+wltOKLChivmZcbI0rNAs7JLfAd76WoSv876JPbS40pdYstAzOmlArIzY25IkrNAM7JLaQGjaWoCpydYDxuxlLJ+FgqWyla8YUCqIrDWKrmohQbn4tS08Ce3EKXZaQGXfFRFfiYQLS+4qPVWeAADKnNbKWwlSQNoCr8io8rxbntoBRjrYGIUjMFDZvcp64OSNRJaa2nP+st24mvAW7BTkabN+kgSlUYGPlMVKmgdr1ILyUnvpljACe4ySoVLEVtlVneGnVT9l5KlBLyOVG/fPVaM27F+IqbzeZqRLfn4D5dW5QSfPP82ZPHmq0R97deMO4xHjEeMh4gTwOhAH8ANbkvTQnwMBoAAAAASUVORK5CYII=" alt="4"></p><p>至此SS服务端就安装完毕了，非常简单，脚本自动拉取最新版本，所有这次成功升级到了最新。</p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>安装完后配置文件在<code>/etc/shadowsocks-libev/config.json</code>,可自行修改配置。</p><p>修改完成后<code>systemctl restart shadowsocks-libev.service</code>即可生效。</p></div><p>目前有Go语言的版本，有兴趣朋友可以自行研究。</p><h3 id="_1-3-ss客服端" tabindex="-1">1.3 SS客服端 <a class="header-anchor" href="#_1-3-ss客服端" aria-label="Permalink to &quot;1.3 SS客服端&quot;">​</a></h3><p>服务端搭建完毕后需要客户端配合使用，可以到<a href="https://github.com/shadowsocks" target="_blank" rel="noreferrer">shadowsocks (github.com)</a>找到对应的操作系统版本下载，不过为了方便我给出常用下载地址：</p><p>安卓：<a href="https://github.com/shadowsocks/shadowsocks-android/releases" target="_blank" rel="noreferrer">Releases · shadowsocks/shadowsocks-android (github.com)</a></p><p><img src="/assets/5.b6427000.png" alt="5"></p><p>一般安卓手机选择arm64即可。</p><p>Windows：<a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noreferrer">Releases · shadowsocks/shadowsocks-windows (github.com)</a></p><p><img src="/assets/6.ec862ae0.png" alt="6"></p><p>选择第一个压缩包，解压后直接运行即可。</p><p>macOS：<a href="https://github.com/shadowsocks/ShadowsocksX-NG/releases" target="_blank" rel="noreferrer">Releases · shadowsocks/ShadowsocksX-NG (github.com)</a></p><p>本人无mac，配置方式都差不多。</p><p>下载安装后，填上服务器地址、端口号、密码、加密方式就能正常使用了，这里就不再赘述了。</p><h3 id="_1-4-ss服务端优化" tabindex="-1">1.4 SS服务端优化 <a class="header-anchor" href="#_1-4-ss服务端优化" aria-label="Permalink to &quot;1.4 SS服务端优化&quot;">​</a></h3><p>目前SS可以使用算法加速，我现在使用的是<code>BBR</code>加速和<code>open_fast</code>,当然还有<code>kcptun</code>由于我目前使用已经很流畅了，就没有继续折腾了。</p><p>开启<code>open_fast</code>很简单，第一章就提到了，可以自行返回查看。</p><p>Google 开源了其 TCP BBR 拥塞控制算法，并提交到了 Linux 内核，从 4.9 开始，Linux 内核已经用上该算法，所有你的机器内核得大于4.9。</p><p>如果不幸你低于这个版本，可以参考<a href="https://github.flysch.cn/study/centos7.html" target="_blank" rel="noreferrer">Centos7 升级内核版本</a>升级。 开启后，可以用这个命令查看 BBR 状态：</p><p><code>sysctl net.ipv4.tcp_available_congestion_control</code></p><p>如果返回的结果里有 bbr 则说明你的 VPS 已经开启 BBR 加速：</p><p><code>net.ipv4.tcp_available_congestion_control = reno cubic bbr</code></p><p>这里我提供一键配置bbr脚本<a href="/ss/bbr.sh">点击下载</a>，按照提示运行即可。</p><h2 id="_2、vpn" tabindex="-1">2、VPN <a class="header-anchor" href="#_2、vpn" aria-label="Permalink to &quot;2、VPN&quot;">​</a></h2><h3 id="_2-1-介绍" tabindex="-1">2.1 介绍 <a class="header-anchor" href="#_2-1-介绍" aria-label="Permalink to &quot;2.1 介绍&quot;">​</a></h3><h6 id="pptp" tabindex="-1">PPTP <a class="header-anchor" href="#pptp" aria-label="Permalink to &quot;PPTP&quot;">​</a></h6><p>PPTP(Point-to-Point Tunneling Protocol，点对点隧道协议)是由微软为了在拨号网络方面创建VPN而成立的一个团队开发而生，因此长期以来一直都是其企业内部的VPN标准协议。它也是一个通过搭配各种认证方法（通常是MS-CHAP v2）以提供安全性的VPN协议。因为PPTP协议作为一个在几乎所有有VPN能力的平台和设备上都可以无需安装额外软件而使用的标准，它至今仍然是企业和VPN供应商们的热门选择。同时，它有着低计算开销即可实现的优势（通俗地说就是运行速度很快）。</p><ul><li>几乎所有平台都内置好了PPTP协议的VPN客户端</li><li>非常易于搭建</li><li>不够安全（弱势的MSCHAPv2依旧被广泛使用）</li><li>绝对妥协于NSA</li></ul><h6 id="l2tp-以及-l2tp-ipsec" tabindex="-1">L2TP 以及 L2TP/IPsec <a class="header-anchor" href="#l2tp-以及-l2tp-ipsec" aria-label="Permalink to &quot;L2TP 以及 L2TP/IPsec&quot;">​</a></h6><p>L2TP(Layer 2 Tunnel Protocol，第二层隧道协议)是一种协议本身不对通过的流量进行加密或实施保密措施的VPN协议。也正是因为这个原因，L2TP通常会结合IPsec加密套件（如下所述，类似于一种密码）来实现，以此提供安全性和隐私性。</p><p>L2TP/IPsec已经被内置于所有现代化操作系统以及具有VPN功能的设置，同时它也如PPTP一般，操作简单、可快速搭建（实际上它与PPTP使用的设备通常也是相同的）。</p><p>L2tp/IPsec会进行两次数据封装，这似乎会让速度慢下来。不过首先，它的加密解密行为发生在内核之中，其次LwTP/IPsec也允许多线程（OpenVPN并没有这个功能），这两点完全可以将两次数据封装造成的减速抵消掉，结果是L2TP在理论上会比OpenVPN更快。</p><ul><li>通常公认其安全</li><li>易于搭建</li><li>适用于全部现代化平台</li><li>较OpenVPN更快</li><li>或许已经向NSA妥协了（但未被证实）</li><li>或许被NSA故意削弱过（但未被证实）</li><li>会跟限制性防火墙产生冲突</li></ul><h6 id="openvpn" tabindex="-1">OpenVPN <a class="header-anchor" href="#openvpn" aria-label="Permalink to &quot;OpenVPN&quot;">​</a></h6><p>OpenVPN可以说是一种崭新的开源技术，它使用了OpenSSL库和SSLv3/TLSv1协议，通过与其他的技术融为一体，来提供一个强大而可靠的VPN解决方案。</p><ul><li>高度可配置性</li><li>非常安全（如果使用了PFS完全正向加密，甚至对NSA都是安全的）</li><li>可以绕过防火墙</li><li>可以使用多种加密算法</li><li>开源（因此可以很容易地去检查项目中的后门情况或者其他有可能被NSA修改过的地方）</li><li>需要第三方软件</li><li>安装过程比较繁琐</li><li>尽管在努力改善对移动端设备的支持，缺还是不及桌面端的完善程度</li></ul><h6 id="sstp" tabindex="-1">SSTP <a class="header-anchor" href="#sstp" aria-label="Permalink to &quot;SSTP&quot;">​</a></h6><p>SSTP（Secure Socket Tunneling Protocol，安全套接字隧道协议）是微软在Windows Vista SP1时推出的，虽然它现在可用于Linux、RouterOS和SEIL，但是它极大程度上还是一种仅限Windows平台的协议（让它支持苹果设备的可能性等同于地狱里面出现了一个雪球）。</p><ul><li>非常安全（这取决于加密方式，不过通常使用AES就非常强大了）</li><li>完全集成到了Windows操作系统中（Windows Vista SP1, Windows 7, Windows 8）</li><li>微软官方支持</li><li>可以绕过大多数防火墙</li><li>只有在Windows环境才能真正工作</li><li>作为微软的专有标准，不能被独立核查出后门以及其他问题</li></ul><h6 id="ikev2" tabindex="-1">IKEv2 <a class="header-anchor" href="#ikev2" aria-label="Permalink to &quot;IKEv2&quot;">​</a></h6><p>IKEv2（Internet Key Exchange version 2，因特网密钥交换版本2）基于IPSec隧道协议，由微软和思科联合开发，并被兼并到了Windows7及以上版本中。</p><p>IKEv2有着非常实用的自动重连特性，当用户暂时失去互联网连接（比如进出火车隧道）的时候，它会自动重新建立VPN连接。对于手机用户来说确实是喜大普奔。Ikev2能跑在几乎所有iOS定制的VPN应用上，为了那些使用苹果公司官方VPN API的人无需越狱来使用它（也正因为这些优势，能让VPN供应商能够很容易地把更新配置文件推送到使用VPN的用户或者应用程序上）。</p><ul><li>比PPTP，SSTP和L2TP更快，它不涉及在点对点协议（Point-to-Point protocols，PPP）上的开销</li><li>非常稳定 - 尤其是切换网络或者在短暂的网络连接丢失之后重新连接的时候</li><li>非常安全 - 支持AES 128，AES 192，AES 256以及3DES加密算法</li><li>易于安装和配置 - 至少在用户端是如此</li><li>协议也支持黑莓的设备</li><li>暂时还不支持很多的平台</li><li>在服务器上搭建IKEv2相对来说很费劲，这也是很多问题的隐患所在 我们所对它的信任仅因为它进行了开源</li></ul><h3 id="_2-2-协议选择" tabindex="-1">2.2 协议选择 <a class="header-anchor" href="#_2-2-协议选择" aria-label="Permalink to &quot;2.2 协议选择&quot;">​</a></h3><p>PPTP是搭建最为简单，但也是最不推荐的一种，我个人比较钟爱L2TP/IPsec，这个协议目前几乎所有智能设备都内置了，不用下载客户端即可使用。</p><p>有人肯定想问已经在SS稳定使用的情况下为什么还要搭建VPN，之所以会有这个需求，主要是因为SS在小米(MIUI)上有问题，主要体现在不稳定。</p><p>开始我以为是软件问题，不过后面把路由器刷了潘多拉后由路由器SS代理仍然不稳定，而且仅我手里这台小米这样，我上一部iphone和我电脑都不存在这个问题。</p><p>问题主要体现在打开代理无论pac模式还是全局模式，有概率无法代理APP流量，经常导致steam，google play等软件很长时间无法正常使用（非常抓狂）。</p><p>想知道路由器刷固件的可以参考我另外一个<a href="https://github.flysch.cn/life/RM2100.html" target="_blank" rel="noreferrer">文章</a></p><h3 id="_2-3-vpn搭建" tabindex="-1">2.3 VPN搭建 <a class="header-anchor" href="#_2-3-vpn搭建" aria-label="Permalink to &quot;2.3 VPN搭建&quot;">​</a></h3><h4 id="_2-3-1-l2tp" tabindex="-1">2.3.1 L2TP <a class="header-anchor" href="#_2-3-1-l2tp" aria-label="Permalink to &quot;2.3.1 L2TP&quot;">​</a></h4><p>在开始我就要很不幸的告诉大家，我失败了，浪费了一天的时间，试了好几个文章的方法都无法正常连接，我选择放弃了。</p><p>下面我给出我找到的文章，感兴趣的可以自行尝试。</p><p><a href="https://www.cnblogs.com/fisherpau/p/11576552.html" target="_blank" rel="noreferrer">CentOS7 搭建L2TP - 玉米花豆 - 博客园 (cnblogs.com)</a></p><p><a href="https://blog.csdn.net/weixin_44621066/article/details/108285573?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-4.vipsorttest&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-4.vipsorttest" target="_blank" rel="noreferrer">Centos7搭建L2TP与Win10连接测试_CodeSunShines-CSDN博客</a></p><p><a href="https://www.0z.gs/soso/centos-pptp.html" target="_blank" rel="noreferrer">腾讯云 CentOS 7.6 部署 pptp vpn - 飘在云端 (0z.gs)</a></p><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>所有文章我都一步一步试的，配置文件都没问题，服务正常启动，端口都正常开放，但是无论手机还是电脑死活都连不上。</p></div><h4 id="_2-3-2-ikev2" tabindex="-1">2.3.2 IKEv2 <a class="header-anchor" href="#_2-3-2-ikev2" aria-label="Permalink to &quot;2.3.2 IKEv2&quot;">​</a></h4><p>其实这个协议应该算是目前最好的，开始以为搭建会很麻烦，结果比昨天的L2TP还简单，一次成功。</p><p>下面是详细操作步骤：</p><p>1.安装strongswan</p><p><code>yum install strongswan</code></p><p>2.创建证书</p><p><code>strongswan pki --gen --outform pem &gt; ca.key.pem</code></p><p><code>strongswan pki --self --in ca.key.pem --dn &quot;C=CN, O=one, CN=one t CA&quot; --ca --lifetime 3650 --outform pem &gt; ca.cert.pem</code></p><p><code>strongswan pki --gen --outform pem &gt; server.key.pem</code></p><p><code>strongswan pki --pub --in server.key.pem --outform pem &gt; server.pub.pem</code></p><p><code>strongswan pki --pub --in server.key.pem | strongswan pki --issue --lifetime 3601 --cacert ca.cert.pem --cakey ca.key.pem --dn &quot;C=CN, O=one, CN=one t CA&quot; --san=&quot;你的服务器公网ip&quot; --flag serverAuth --flag ikeIntermediate --outform pem &gt; server.cert.pem</code></p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>注意最后一个代码替换自己服务器ip</p></div><p>3.安装证书</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ca.key.pem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/strongswan/ipsec.d/private/</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ca.cert.pem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/strongswan/ipsec.d/cacerts/</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server.cert.pem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/strongswan/ipsec.d/certs/</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server.pub.pem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/strongswan/ipsec.d/certs/</span></span>
<span class="line"><span style="color:#FFCB6B;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server.key.pem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/strongswan/ipsec.d/private/</span></span>
<span class="line"></span></code></pre></div><p>4.配置</p><p><code>vim /etc/strongswan/ipsec.conf</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    uniqueids</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">never</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#允许多个客户端使用同一个证书</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">conn</span><span style="color:#A6ACCD;"> %default  </span><span style="color:#676E95;font-style:italic;">#定义连接项, 命名为 %default 所有连接都会继承它</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">compress</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yes</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#是否启用压缩, yes 表示如果支持压缩会启用.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">dpdaction</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clear</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#当意外断开后尝试的操作, hold, 保持并重连直到超时.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">dpddelay</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">30s</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#意外断开后尝试重连时长</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">dpdtimeout</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">60s</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#意外断开后超时时长, 只对 IKEv1 起作用</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">inactivity</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">300s</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#闲置时长,超过后断开连接.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">leftdns</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">8.8.8.8,8.8.4.4</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#指定服务端与客户端的dns, 多个用&quot;,&quot;分隔</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">rightdns</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">8.8.8.8,8.8.4.4</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">conn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">IKEv2-BASE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">leftca</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">C=CN, O=one, CN=one t CA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#服务器端根证书DN名称，与 --dn 内容一致 </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">leftsendcert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#是否发送服务器证书到客户端</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">rightsendcert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">never</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#客户端不发送证书</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">conn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">IKEv2-EAP</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    keyexchange</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">ikev2</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">#默认的密钥交换算法, ike 为自动, 优先使用 IKEv2</span></span>
<span class="line"><span style="color:#A6ACCD;">    left</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">%any</span><span style="color:#A6ACCD;">       </span><span style="color:#676E95;font-style:italic;">#服务器端标识,%any表示任意  </span></span>
<span class="line"><span style="color:#A6ACCD;">    leftid</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 0.0.0.0     </span><span style="color:#676E95;font-style:italic;">#服务器端ID标识，你的服务器公网ip  </span></span>
<span class="line"><span style="color:#A6ACCD;">    leftsubnet</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">0.0.0.0/</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;">#服务器端虚拟ip, 0.0.0.0/0表示通配.  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">leftcert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server.cert.pem</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">#服务器端证书  </span></span>
<span class="line"><span style="color:#A6ACCD;">    leftauth</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">pubkey</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">#服务器校验方式，使用证书  </span></span>
<span class="line"><span style="color:#A6ACCD;">    right</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">%any</span><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">#客户端标识，%any表示任意  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">rightsourceip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">20.1.0.0/</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">#客户端IP地址分配范围  </span></span>
<span class="line"><span style="color:#A6ACCD;">    rightauth</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">eap-mschapv2</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#eap-md5#客户端校验方式#KEv2 EAP(Username/Password)   </span></span>
<span class="line"><span style="color:#A6ACCD;">    also</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">IKEv2-BASE</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">eap_identity</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> %any </span><span style="color:#676E95;font-style:italic;">#指定客户端eap id</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">rekey</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">no</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#不自动重置密钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">fragmentation</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yes</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#开启IKE 消息分片</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">auto</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#当服务启动时, 应该如何处理这个连接项. add 添加到连接表中.</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#ios 和 mac Psk连接，无需证书 (EAP账号密码及psk)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#android Psk 连接，无需证书（XAUTH账户密码及psk）</span></span>
<span class="line"><span style="color:#FFCB6B;">conn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Android_Ios_Mac_XauthPSK</span></span>
<span class="line"><span style="color:#A6ACCD;">     keyexchange</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">ikev1</span></span>
<span class="line"><span style="color:#A6ACCD;">     ike</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">aes128-aes256-sha1-modp3072-modp2048,3des-sha1-md5-modp1024,aes256-sha512-modp4096,aes128-sha256-modp3072</span></span>
<span class="line"><span style="color:#A6ACCD;">     esp</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">aes128-sha1,aes256-sha256_96,3des-sha1,aes256-sha1</span></span>
<span class="line"><span style="color:#A6ACCD;">     left</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">%defaultroute</span></span>
<span class="line"><span style="color:#A6ACCD;">     leftauth</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">psk</span></span>
<span class="line"><span style="color:#A6ACCD;">     leftsubnet</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">0.0.0.0/</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">     right</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">%any</span></span>
<span class="line"><span style="color:#A6ACCD;">     rightauth</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">psk</span></span>
<span class="line"><span style="color:#A6ACCD;">     rightauth2</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">xauth</span></span>
<span class="line"><span style="color:#A6ACCD;">     rightsourceip</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">20.1.0.0/</span><span style="color:#F78C6C;">16</span></span>
<span class="line"><span style="color:#A6ACCD;">     auto</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">add</span></span>
<span class="line"></span></code></pre></div><p>5.修改配置</p><p><code>vim /etc/strongswan/strongswan.conf</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">charon</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">load_modular</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yes</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">i_dont_care_about_security_and_use_aggressive_mode_psk</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yes</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">compress</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yes</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">plugins</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                 </span><span style="color:#FFCB6B;">duplicheck</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                            enable</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">no</span></span>
<span class="line"><span style="color:#A6ACCD;">                 </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">include</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">strongswan.d/charon/</span><span style="color:#A6ACCD;">*</span><span style="color:#C3E88D;">.conf</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">include</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">strongswan.d/</span><span style="color:#A6ACCD;">*</span><span style="color:#C3E88D;">.conf</span></span>
<span class="line"></span></code></pre></div><p>5.1查看日志（两种方法）</p><p><code>1.journalctl -f -u strongswan</code></p><p><code>2.tail -f /var/log/messages</code></p><p>6.配置用户密码</p><p>`vim /etc/strongswan/ipsec.secrets</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#使用证书验证时的服务器端私钥</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#格式 : RSA &lt;private key file&gt; [ &lt;passphrase&gt; | %prompt ]</span></span>
<span class="line"><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">RSA</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server.key.pem</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#使用预设加密密钥, 越长越好</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#格式 [ &lt;id selectors&gt; ] : PSK &lt;secret&gt;</span></span>
<span class="line"><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSK</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxxxx</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#EAP 方式, 格式同 psk 相同 (用户名/密码 例：oneAA/oneTT)</span></span>
<span class="line"><span style="color:#FFCB6B;">oneAA</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">EAP</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">oneTT</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#XAUTH 方式, 只适用于 IKEv1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#格式 [ &lt;servername&gt; ] &lt;username&gt; : XAUTH &quot;&lt;password&gt;&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">oneAA</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">XAUTH</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">oneTT</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p>6.开始内核转发</p><p><code>vim /etc/sysctl.conf</code></p><p>修改：</p><p><code>net.ipv4.ip_forward = 1</code></p><p>如果开启了ipv6，那么也要把对应的改为1</p><p>输入下面命令生效：</p><p><code>sysctl -p</code></p><p>添加upd端口</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-port=500-4500/udp</span></span>
<span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-masquerade</span></span>
<span class="line"></span></code></pre></div><p>调整MTU-MSS、添加GRE，否则隧道失败：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--direct</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-rule</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ipv4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INPUT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gre</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-j</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ACCEPT</span></span>
<span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--direct</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-rule</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ipv4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">filter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">FORWARD</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tcp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eth0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-j</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">TCPMSS</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--syn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--set-mss</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1299</span></span>
<span class="line"></span></code></pre></div><p>8.配置防火墙</p><p><code>vim /etc/firewalld/zones/public.xml</code></p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki material-theme-palenight"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#F07178;">xml</span><span style="color:#C792EA;"> version</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;"> encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">?&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">zone</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">short</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Public</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">short</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">interface</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eth0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">service</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ssh</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">service</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dhcpv6-client</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">service</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ipsec</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">port</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">protocol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tcp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1723</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">port</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">protocol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tcp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">47</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">port</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">protocol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tcp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1701</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">port</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">protocol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tcp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">22</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">masquerade</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rule</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">family</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ipv4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">source</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">address</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10.1.0.0/16</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">masquerade</span><span style="color:#89DDFF;">/&gt;</span><span style="color:#A6ACCD;">                                                                                                                                                                                    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">rule</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rule</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">family</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ipv4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">source</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">address</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10.1.0.0/16</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">forward-port</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">to-port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">4500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">protocol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">udp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">4500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">rule</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">rule</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">family</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ipv4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">source</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">address</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10.1.0.0/16</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">forward-port</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">to-port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">protocol</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">udp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">port</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">500</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">rule</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">masquerade</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">zone</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>9.开启防火墙和strongswan</p><p><code>systemctl start firewalld</code></p><p><code>systemctl start strongswan</code></p><p>10.开放安全组端口</p><p>不同云服务商操作方法不同，不过大体相似，参照云服务商文档开启UPD500和4500端口即可。</p><h3 id="_2-4-vpn使用" tabindex="-1">2.4 vpn使用 <a class="header-anchor" href="#_2-4-vpn使用" aria-label="Permalink to &quot;2.4 vpn使用&quot;">​</a></h3><p>基本上系统都自带了IKEv2的协议的vpn</p><p>将服务器<code>ca.cert.pem</code>导出到需要的设备上，ios和mac操作都很简单这里不演示，这里说明一下遇到困难的小米和windows。</p><p>小米:</p><p>系统自带IKEv2是个废品，无法使用，只能到strongswan官网下载软件使用。</p><p><a href="https://download.strongswan.org/Android/?C=M;O=D" target="_blank" rel="noreferrer">下载地址</a></p><p>选择最新版本即可。</p><p>步骤：右上角选项--&gt;CA证书--&gt;再选择右上角选项--&gt;导入证书--&gt;找到ca.cert.pem点击即可。 回到主界面--&gt;添加配置--&gt;例：服务器地址：你的服务器公网ip 类型：IKEv2 EAP(用户名/密码)，填写用户名和密码 CA证书：选择刚才导入的ca.cert.pem证书 点击右上角--保存</p><p>如果没有问题，这时就能正常连接使用了。</p><p>windows:</p><p>windows默认不支持DH2048_AES256协商协议,会导致正常导入证书后无法连接。</p><p>解决办法：添加注册表项，不需要重启生效</p><p><code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Rasman\Parameters里新建类型为DWORD的NegotiateDH2048_AES256 键，值设置为1</code></p><p>至此windows正常连接。</p></div></div></main><footer class="VPDocFooter" data-v-307fc964 data-v-d4070f04><!--[--><!--]--><div class="edit-info" data-v-307fc964><!----><div class="last-updated" data-v-307fc964><p class="VPLastUpdated" data-v-817cb589 data-v-307fc964>上次更新: <time datetime="2023-04-08T06:28:04.000Z" data-v-817cb589></time></p></div></div><div class="prev-next" data-v-307fc964><div class="pager" data-v-307fc964><a class="pager-link prev" href="/life/RM2100.html" data-v-307fc964><span class="desc" data-v-307fc964>上一页</span><span class="title" data-v-307fc964>红米2100路由器刷机</span></a></div><div class="pager has-prev" data-v-307fc964><a class="pager-link next" href="/life/oh-my-zsh.html" data-v-307fc964><span class="desc" data-v-307fc964>下一页</span><span class="title" data-v-307fc964>oh-my-zsh安装与基本配置</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-5c5bebfc data-v-9c2e3be6><div class="container" data-v-5c5bebfc><p class="message" data-v-5c5bebfc>Released under the MIT License.</p><p class="copyright" data-v-5c5bebfc>Copyright © 2023-present flysch</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"2e930e5c\",\"life_netflix.md\":\"5bfaf90c\",\"study_questions_linux.md\":\"6ebde5f8\",\"life_rm2100.md\":\"91852c6b\",\"study_questions_mysql_pass.md\":\"7486e539\",\"guide_readme.md\":\"af803f51\",\"study_questions_ssh.md\":\"2f64ec51\",\"life_openwrt.md\":\"4053faa1\",\"study_questions_centos7.md\":\"fc7ae942\",\"life_oh-my-zsh.md\":\"1588a3cc\",\"life_ss_vpn.md\":\"14e29c13\",\"study_pnpm.md\":\"a9b4e381\",\"api-examples.md\":\"f791f770\",\"study_questions_ubuntu-20.04.4-server.md\":\"b5132268\",\"study_html_css_js_html_css.md\":\"dd5f1d21\",\"study_literary_extract.md\":\"b66f7e59\",\"study_html_css_js_vue1.md\":\"2577287f\",\"markdown-examples.md\":\"9fc779aa\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"个人杂记\",\"description\":\"A Notes Site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"指南\",\"link\":\"/guide/readme\"}],\"sidebar\":[{\"text\":\"生活\",\"collapsed\":false,\"items\":[{\"text\":\"红米2100路由器刷机\",\"link\":\"/life/RM2100\"},{\"text\":\"科学上网\",\"link\":\"/life/ss/vpn\"},{\"text\":\"oh-my-zsh安装与基本配置\",\"link\":\"/life/oh-my-zsh\"},{\"text\":\"Netflix UWP Windows客户端除网络隔离的方法\",\"link\":\"/life/netflix\"}]},{\"text\":\"前端\",\"collapsed\":false,\"items\":[{\"text\":\"前端小技巧\",\"link\":\"/study/html_css_js/html_css\"},{\"text\":\"Vue日常笔记\",\"link\":\"/study/html_css_js/vue1\"},{\"text\":\"vscode无法运行npm脚本\",\"link\":\"/study/pnpm\"}]},{\"text\":\"文学\",\"collapsed\":false,\"items\":[{\"text\":\"时间语录\",\"link\":\"/study/literary/extract\"}]},{\"text\":\"环境问题\",\"collapsed\":false,\"items\":[{\"text\":\"Centos7重置Mysql8 root 密码\",\"link\":\"/study/questions/mysql_pass\"},{\"text\":\"Linux命令\",\"link\":\"/study/questions/linux\"},{\"text\":\"SSH防止暴力破解\",\"link\":\"/study/questions/ssh\"},{\"text\":\"Centos7 升级内核版本\",\"link\":\"/study/questions/centos7\"},{\"text\":\"ubuntu-20.04.4-server安装与基本配置\",\"link\":\"/study/questions/ubuntu-20.04.4-server\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Icestab\"}],\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2023-present flysch\"},\"lastUpdatedText\":\"上次更新\",\"returnToTopLabel\":\"返回顶部\",\"darkModeSwitchLabel\":\"主题\",\"outlineTitle\":\"此页\",\"outline\":\"deep\"},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>